<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Golkatok — Главная</title>
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>

<!-- ===== Верхняя полоса ===== -->
<div class="top-bar"></div>

<!-- ===== Отступ 1.3 см ===== -->
<div class="top-spacer"></div>

<!-- ===== Кнопки меню и настроек ===== -->
<div class="top-buttons">
  <button id="menu-btn">☰</button>
  <button id="settings-btn">⚙</button>
</div>

<!-- ===== Меню ===== -->
<div id="menu-popup" class="popup">
  <div class="popup-content">
    <h3 data-i18n="menu">Меню</h3>
    <a href="https://golkatok.github.io">Главная</a>
    <a href="https://golkatok.github.io/social.html">Соц. Сети</a>
    <a href="https://golkatok.github.io/news.html">Новости</a>
    <a href="https://golkatok.github.io/mini-games.html">Мини-игры</a>
  </div>
</div>

<!-- ===== Настройки ===== -->
<div id="settings-popup" class="popup">
  <div class="popup-content">
    <h3 data-i18n="settings">Настройки</h3>

    <label data-i18n="theme">Тема:</label>
    <select id="theme-select">
      <option value="light">Светлая</option>
      <option value="dark" selected>Тёмная</option>
    </select>

    <label data-i18n="language">Язык:</label>
    <select id="lang-select">
      <option value="ru" selected>Русский</option>
      <option value="uk">Українська</option>
      <option value="by">Беларуская</option>
      <option value="en">English</option>
    </select>
  </div>
</div>

<!-- ===== Telegram Login Popup ===== -->
<div id="tg-login-popup" class="overlay">
  <div class="center-box">
    <h2>Авторизация</h2>
    <p>Войдите через Telegram, чтобы продолжить</p>

    <!-- ГЛОБАЛЬНАЯ ФУНКЦИЯ ДОЛЖНА БЫТЬ ДО ВИДЖЕТА -->
    <script>
      window.onTelegramAuth = function(user) {
        localStorage.setItem("tg_user", JSON.stringify(user));
        document.getElementById("tg-login-popup").style.display = "none";

        const n = document.getElementById("welcome-name");
        if (n) n.textContent = user.first_name;
      };
    </script>

    <script async 
      src="https://telegram.org/js/telegram-widget.js?22"
      data-telegram-login="Jahvirapelacionsbot"
      data-size="large"
      data-onauth="onTelegramAuth"
      data-request-access="write">
    </script>
  </div>
</div>

<!-- ===== Cookie Popup ===== -->
<div id="cookie-popup" class="overlay">
  <div class="center-box">
    <p>Мы используем cookies для сохранения ваших настроек.</p>
    <button id="cookie-accept">Принять</button>
  </div>
</div>

<!-- ===== Карточка ===== -->
<div class="card">
  <img src="images/image1.png" class="avatar" />

  <h2 class="welcome">
    Привет <span id="welcome-name">Гость</span>!
  </h2>

  <p>Последний ролик:</p>

  <iframe
    width="100%"
    height="200"
    src="https://www.youtube.com/embed/7upmUi_AnbE?si=PBrsn3RIf_pPH2-S"
    frameborder="0"
    allowfullscreen>
  </iframe>
</div>

<script src="js/script.js"></script>
</body>
</html>
